#!/usr/bin/env node
"use strict";var t,e,u,i,n,r,s,o,D,a,l,h,c,F,p,m,d,f,g,_,C,E,v,A,b,B,O,w,y,x,T,S,$,k,M=Object.defineProperty,I=t=>{throw TypeError(t)},H=(t,e,u)=>((t,e,u)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u)(t,"symbol"!=typeof e?e+"":e,u),P=(t,e,u)=>e.has(t)||I("Cannot "+u),R=(t,e,u)=>(P(t,e,"read from private field"),u?u.call(t):e.get(t)),V=(t,e,u)=>e.has(t)?I("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,u),j=(t,e,u,i)=>(P(t,e,"write to private field"),i?i.call(t,u):e.set(t,u),u),N=(t,e,u)=>(P(t,e,"access private method"),u),W=(t,e,u,i)=>({set _(i){j(t,e,i,u)},get _(){return R(t,e,i)}});const G=require("node:fs"),L=require("node:path"),q=require("node:events"),U=require("node:child_process"),Y=require("node:process"),K=require("node:os"),J=require("node:url"),Z=require("node:tty"),z=require("tinify");var Q="undefined"!=typeof document?document.currentScript:null;function X(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tt={},et={},ut={};let it=class extends Error{constructor(t,e,u){super(u),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}};ut.CommanderError=it,ut.InvalidArgumentError=class extends it{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};const{InvalidArgumentError:nt}=ut;et.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new nt(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},et.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"};var rt={},st={};const{humanReadableArgName:ot}=et;st.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),u=t._getHelpCommand();return u&&!u._hidden&&e.push(u),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const u=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return u(t).localeCompare(u(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),u=t._getHelpOption();if(u&&!u.hidden){const i=u.short&&t._findOption(u.short),n=u.long&&t._findOption(u.long);i||n?u.long&&!n?e.push(t.createOption(u.long,u.description)):u.short&&!i&&e.push(t.createOption(u.short,u.description)):e.push(u)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let u=t.parent;u;u=u.parent){const t=u.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>ot(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,u)=>Math.max(t,e.subcommandTerm(u).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,u)=>Math.max(t,e.optionTerm(u).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,u)=>Math.max(t,e.optionTerm(u).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,u)=>Math.max(t,e.argumentTerm(u).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let u="";for(let i=t.parent;i;i=i.parent)u=i.name()+" "+u;return u+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const u=`(${e.join(", ")})`;return t.description?`${t.description} ${u}`:u}return t.description}formatHelp(t,e){const u=e.padWidth(t,e),i=e.helpWidth||80;function n(t,n){if(n){const r=`${t.padEnd(u+2)}${n}`;return e.wrap(r,i-2,u+2)}return t}function r(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let s=[`Usage: ${e.commandUsage(t)}`,""];const o=e.commandDescription(t);o.length>0&&(s=s.concat([e.wrap(o,i,0),""]));const D=e.visibleArguments(t).map((t=>n(e.argumentTerm(t),e.argumentDescription(t))));D.length>0&&(s=s.concat(["Arguments:",r(D),""]));const a=e.visibleOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));if(a.length>0&&(s=s.concat(["Options:",r(a),""])),this.showGlobalOptions){const u=e.visibleGlobalOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));u.length>0&&(s=s.concat(["Global Options:",r(u),""]))}const l=e.visibleCommands(t).map((t=>n(e.subcommandTerm(t),e.subcommandDescription(t))));return l.length>0&&(s=s.concat(["Commands:",r(l),""])),s.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,u,i=40){const n=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(t.match(n))return t;const r=e-u;if(r<i)return t;const s=t.slice(0,u),o=t.slice(u).replace("\r\n","\n"),D=" ".repeat(u),a="\\s​",l=new RegExp(`\n|.{1,${r-1}}([${a}]|$)|[^${a}]+?([${a}]|$)`,"g");return s+(o.match(l)||[]).map(((t,e)=>"\n"===t?"":(e>0?D:"")+t.trimEnd())).join("\n")}};var Dt={};const{InvalidArgumentError:at}=ut;Dt.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const u=function(t){let e,u;const i=t.split(/[ |,]+/);i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift());u=i.shift(),!e&&/^-[^-]$/.test(u)&&(e=u,u=void 0);return{shortFlag:e,longFlag:u}}(t);this.short=u.shortFlag,this.long=u.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new at(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},Dt.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const u=e.attributeName();if(!this.dualOptions.has(u))return!0;const i=this.negativeOptions.get(u).presetArg,n=void 0!==i&&i;return e.negate===(n===t)}};var lt={};lt.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const u=t.startsWith("--");u&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let i=[],n=3;return e.forEach((e=>{if(e.length<=1)return;const u=function(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);const u=[];for(let i=0;i<=t.length;i++)u[i]=[i];for(let i=0;i<=e.length;i++)u[0][i]=i;for(let i=1;i<=e.length;i++)for(let n=1;n<=t.length;n++){let r=1;r=t[n-1]===e[i-1]?0:1,u[n][i]=Math.min(u[n-1][i]+1,u[n][i-1]+1,u[n-1][i-1]+r),n>1&&i>1&&t[n-1]===e[i-2]&&t[n-2]===e[i-1]&&(u[n][i]=Math.min(u[n][i],u[n-2][i-2]+1))}return u[t.length][e.length]}(t,e),r=Math.max(t.length,e.length);(r-u)/r>.4&&(u<n?(n=u,i=[e]):u===n&&i.push(e))})),i.sort(((t,e)=>t.localeCompare(e))),u&&(i=i.map((t=>`--${t}`))),i.length>1?`\n(Did you mean one of ${i.join(", ")}?)`:1===i.length?`\n(Did you mean ${i[0]}?)`:""};const ht=q.EventEmitter,ct=U,Ft=L,pt=G,mt=Y,{Argument:dt,humanReadableArgName:ft}=et,{CommanderError:gt}=ut,{Help:_t}=st,{Option:Ct,DualOptions:Et}=Dt,{suggestSimilar:vt}=lt;function At(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,u,i="127.0.0.1",n="9229";return null!==(u=t.match(/^(--inspect(-brk)?)$/))?e=u[1]:null!==(u=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=u[1],/^\d+$/.test(u[3])?n=u[3]:i=u[3]):null!==(u=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=u[1],i=u[3],n=u[4]),e&&"0"!==n?`${e}=${i}:${parseInt(n)+1}`:t}))}rt.Command=class t extends ht{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>mt.stdout.write(t),writeErr:t=>mt.stderr.write(t),getOutHelpWidth:()=>mt.stdout.isTTY?mt.stdout.columns:void 0,getErrHelpWidth:()=>mt.stderr.isTTY?mt.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,u){let i=e,n=u;"object"==typeof i&&null!==i&&(n=i,i=null),n=n||{};const[,r,s]=t.match(/([^ ]+) *(.*)/),o=this.createCommand(r);return i&&(o.description(i),o._executableHandler=!0),n.isDefault&&(this._defaultCommandName=o._name),o._hidden=!(!n.noHelp&&!n.hidden),o._executableFile=n.executableFile||null,s&&o.arguments(s),this._registerCommand(o),o.parent=this,o.copyInheritedSettings(this),i?this:o}createCommand(e){return new t(e)}createHelp(){return Object.assign(new _t,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new dt(t,e)}argument(t,e,u,i){const n=this.createArgument(t,e);return"function"==typeof u?n.default(i).argParser(u):n.default(u),this.addArgument(n),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,u,i]=t.match(/([^ ]+) *(.*)/),n=e??"display help for command",r=this.createCommand(u);return r.helpOption(!1),i&&r.arguments(i),n&&r.description(n),this._addImplicitHelpCommand=!0,this._helpCommand=r,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const u=["preSubcommand","preAction","postAction"];if(!u.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${u.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,u){this._exitCallback&&this._exitCallback(new gt(t,e,u)),mt.exit(t)}action(t){return this._actionHandler=e=>{const u=this.registeredArguments.length,i=e.slice(0,u);return this._storeOptionsAsProperties?i[u]=this:i[u]=this.opts(),i.push(this),t.apply(this,i)},this}createOption(t,e){return new Ct(t,e)}_callParseArg(t,e,u,i){try{return t.parseArg(e,u)}catch(n){if("commander.invalidArgument"===n.code){const t=`${i} ${n.message}`;this.error(t,{exitCode:n.exitCode,code:n.code})}throw n}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const u=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${u}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),u=e(t).find((t=>this._findCommand(t)));if(u){const i=e(this._findCommand(u)).join("|"),n=e(t).join("|");throw new Error(`cannot add command '${n}' as already have command '${i}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),u=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(u,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(u,t.defaultValue,"default");const i=(e,i,n)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const r=this.getOptionValue(u);null!==e&&t.parseArg?e=this._callParseArg(t,e,r,i):null!==e&&t.variadic&&(e=t._concatValue(e,r)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(u,e,n)};return this.on("option:"+e,(e=>{const u=`error: option '${t.flags}' argument '${e}' is invalid.`;i(e,u,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const u=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;i(e,u,"env")})),this}_optionEx(t,e,u,i,n){if("object"==typeof e&&e instanceof Ct)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const r=this.createOption(e,u);if(r.makeOptionMandatory(!!t.mandatory),"function"==typeof i)r.default(n).argParser(i);else if(i instanceof RegExp){const t=i;i=(e,u)=>{const i=t.exec(e);return i?i[0]:u},r.default(n).argParser(i)}else r.default(i);return this.addOption(r)}option(t,e,u,i){return this._optionEx({},t,e,u,i)}requiredOption(t,e,u,i){return this._optionEx({mandatory:!0},t,e,u,i)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,u){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=u,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((u=>{void 0!==u.getOptionValueSource(t)&&(e=u.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){var u;if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(e=e||{},void 0===t&&void 0===e.from){(null==(u=mt.versions)?void 0:u.electron)&&(e.from="electron");const t=mt.execArgv??[];(t.includes("-e")||t.includes("--eval")||t.includes("-p")||t.includes("--print"))&&(e.from="eval")}let i;switch(void 0===t&&(t=mt.argv),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],i=t.slice(2);break;case"electron":mt.defaultApp?(this._scriptPath=t[1],i=t.slice(2)):i=t.slice(1);break;case"user":i=t.slice(0);break;case"eval":i=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(t,e){const u=this._prepareUserArgs(t,e);return this._parseCommand([],u),this}async parseAsync(t,e){const u=this._prepareUserArgs(t,e);return await this._parseCommand([],u),this}_executeSubCommand(t,e){e=e.slice();let u=!1;const i=[".js",".ts",".tsx",".mjs",".cjs"];function n(t,e){const u=Ft.resolve(t,e);if(pt.existsSync(u))return u;if(i.includes(Ft.extname(e)))return;const n=i.find((t=>pt.existsSync(`${u}${t}`)));return n?`${u}${n}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let r,s=t._executableFile||`${this._name}-${t._name}`,o=this._executableDir||"";if(this._scriptPath){let t;try{t=pt.realpathSync(this._scriptPath)}catch(a){t=this._scriptPath}o=Ft.resolve(Ft.dirname(t),o)}if(o){let e=n(o,s);if(!e&&!t._executableFile&&this._scriptPath){const u=Ft.basename(this._scriptPath,Ft.extname(this._scriptPath));u!==this._name&&(e=n(o,`${u}-${t._name}`))}s=e||s}if(u=i.includes(Ft.extname(s)),"win32"!==mt.platform?u?(e.unshift(s),e=At(mt.execArgv).concat(e),r=ct.spawn(mt.argv[0],e,{stdio:"inherit"})):r=ct.spawn(s,e,{stdio:"inherit"}):(e.unshift(s),e=At(mt.execArgv).concat(e),r=ct.spawn(mt.execPath,e,{stdio:"inherit"})),!r.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{mt.on(t,(()=>{!1===r.killed&&null===r.exitCode&&r.kill(t)}))}))}const D=this._exitCallback;r.on("close",(t=>{t=t??1,D?D(new gt(t,"commander.executeSubCommandAsync","(close)")):mt.exit(t)})),r.on("error",(e=>{if("ENOENT"===e.code){const e=o?`searched for local subcommand relative to directory '${o}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",u=`'${s}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(u)}if("EACCES"===e.code)throw new Error(`'${s}' not executable`);if(D){const t=new gt(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,D(t)}else mt.exit(1)})),this.runningCommand=r}_dispatchSubcommand(t,e,u){const i=this._findCommand(t);let n;return i||this.help({error:!0}),n=this._chainOrCallSubCommandHook(n,i,"preSubcommand"),n=this._chainOrCall(n,(()=>{if(!i._executableHandler)return i._parseCommand(e,u);this._executeSubCommand(i,e.concat(u))})),n}_dispatchHelpCommand(t){var e,u;t||this.help();const i=this._findCommand(t);return i&&!i._executableHandler&&i.help(),this._dispatchSubcommand(t,[],[(null==(e=this._getHelpOption())?void 0:e.long)??(null==(u=this._getHelpOption())?void 0:u.short)??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,u)=>{let i=e;if(null!==e&&t.parseArg){const n=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;i=this._callParseArg(t,e,u,n)}return i};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((u,i)=>{let n=u.defaultValue;u.variadic?i<this.args.length?(n=this.args.slice(i),u.parseArg&&(n=n.reduce(((e,i)=>t(u,i,e)),u.defaultValue))):void 0===n&&(n=[]):i<this.args.length&&(n=this.args[i],u.parseArg&&(n=t(u,n,u.defaultValue))),e[i]=n})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let u=t;const i=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{i.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&i.reverse(),i.forEach((t=>{u=this._chainOrCall(u,(()=>t.callback(t.hookedCommand,this)))})),u}_chainOrCallSubCommandHook(t,e,u){let i=t;return void 0!==this._lifeCycleHooks[u]&&this._lifeCycleHooks[u].forEach((t=>{i=this._chainOrCall(i,(()=>t(this,e)))})),i}_parseCommand(t,e){const u=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(u.operands),e=u.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(u.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const i=()=>{u.unknown.length>0&&this.unknownOption(u.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){let u;return i(),this._processArguments(),u=this._chainOrCallHooks(u,"preAction"),u=this._chainOrCall(u,(()=>this._actionHandler(this.processedArgs))),this.parent&&(u=this._chainOrCall(u,(()=>{this.parent.emit(n,t,e)}))),u=this._chainOrCallHooks(u,"postAction"),u}if(this.parent&&this.parent.listenerCount(n))i(),this._processArguments(),this.parent.emit(n,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)}));t.filter((t=>t.conflictsWith.length>0)).forEach((e=>{const u=t.find((t=>e.conflictsWith.includes(t.attributeName())));u&&this._conflictingOption(e,u)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],u=[];let i=e;const n=t.slice();function r(t){return t.length>1&&"-"===t[0]}let s=null;for(;n.length;){const t=n.shift();if("--"===t){i===u&&i.push(t),i.push(...n);break}if(!s||r(t)){if(s=null,r(t)){const e=this._findOption(t);if(e){if(e.required){const t=n.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;n.length>0&&!r(n[0])&&(t=n.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);s=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),n.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),u=this._findOption(t.slice(0,e));if(u&&(u.required||u.optional)){this.emit(`option:${u.name()}`,t.slice(e+1));continue}}if(r(t)&&(i=u),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===u.length){if(this._findCommand(t)){e.push(t),n.length>0&&u.push(...n);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),n.length>0&&e.push(...n);break}if(this._defaultCommandName){u.push(t),n.length>0&&u.push(...n);break}}if(this._passThroughOptions){i.push(t),n.length>0&&i.push(...n);break}i.push(t)}else this.emit(`option:${s.name()}`,t)}return{operands:e,unknown:u}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let u=0;u<e;u++){const e=this.options[u].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const u=e||{},i=u.exitCode||1,n=u.code||"commander.error";this._exit(i,n,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in mt.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,mt.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new Et(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((u=>void 0!==u.implied&&e(u.attributeName())&&t.valueFromOption(this.getOptionValue(u.attributeName()),u))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const u=t=>{const e=t.attributeName(),u=this.getOptionValue(e),i=this.options.find((t=>t.negate&&e===t.attributeName())),n=this.options.find((t=>!t.negate&&e===t.attributeName()));return i&&(void 0===i.presetArg&&!1===u||void 0!==i.presetArg&&u===i.presetArg)?i:n||t},i=t=>{const e=u(t),i=e.attributeName();return"env"===this.getOptionValueSource(i)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},n=`error: ${i(t)} cannot be used with ${i(e)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let u=[],i=this;do{const t=i.createHelp().visibleOptions(i).filter((t=>t.long)).map((t=>t.long));u=u.concat(t),i=i.parent}while(i&&!i._enablePositionalOptions);e=vt(t,u)}const u=`error: unknown option '${t}'${e}`;this.error(u,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,u=1===e?"":"s",i=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${u} but got ${t.length}.`;this.error(i,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const u=[];this.createHelp().visibleCommands(this).forEach((t=>{u.push(t.name()),t.alias()&&u.push(t.alias())})),e=vt(t,u)}const u=`error: unknown command '${t}'${e}`;this.error(u,{code:"commander.unknownCommand"})}version(t,e,u){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",u=u||"output the version number";const i=this.createOption(e,u);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){var e;if(void 0===t)return this._aliases[0];let u=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(u=this.commands[this.commands.length-1]),t===u._name)throw new Error("Command alias can't be the same as its name");const i=null==(e=this.parent)?void 0:e._findCommand(t);if(i){const e=[i.name()].concat(i.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return u._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>ft(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=Ft.basename(t,Ft.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let u;return u=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||u,e.command=this,e}outputHelp(t){var e;let u;"function"==typeof t&&(u=t,t=void 0);const i=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",i))),this.emit("beforeHelp",i);let n=this.helpInformation(i);if(u&&(n=u(n),"string"!=typeof n&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(n),(null==(e=this._getHelpOption())?void 0:e.long)&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",i)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=mt.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const u=["beforeAll","before","after","afterAll"];if(!u.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${u.join("', '")}'`);const i=`${t}Help`;return this.on(i,(t=>{let u;u="function"==typeof e?e({error:t.error,command:t.command}):e,u&&t.write(`${u}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};const{Argument:bt}=et,{Command:Bt}=rt,{CommanderError:Ot,InvalidArgumentError:wt}=ut,{Help:yt}=st,{Option:xt}=Dt;tt.program=new Bt,tt.createCommand=t=>new Bt(t),tt.createOption=(t,e)=>new xt(t,e),tt.createArgument=(t,e)=>new bt(t,e),tt.Command=Bt,tt.Option=xt,tt.Argument=bt,tt.Help=yt,tt.CommanderError=Ot,tt.InvalidArgumentError=wt,tt.InvalidOptionArgumentError=wt;const{program:Tt,createCommand:St,createArgument:$t,createOption:kt,CommanderError:Mt,InvalidArgumentError:It,InvalidOptionArgumentError:Ht,Command:Pt,Argument:Rt,Option:Vt,Help:jt}=tt,Nt=(t=0)=>e=>`[${e+t}m`,Wt=(t=0)=>e=>`[${38+t};5;${e}m`,Gt=(t=0)=>(e,u,i)=>`[${38+t};2;${e};${u};${i}m`,Lt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Lt.modifier);Object.keys(Lt.color),Object.keys(Lt.bgColor);const qt=function(){const t=new Map;for(const[e,u]of Object.entries(Lt)){for(const[e,i]of Object.entries(u))Lt[e]={open:`[${i[0]}m`,close:`[${i[1]}m`},u[e]=Lt[e],t.set(i[0],i[1]);Object.defineProperty(Lt,e,{value:u,enumerable:!1})}return Object.defineProperty(Lt,"codes",{value:t,enumerable:!1}),Lt.color.close="[39m",Lt.bgColor.close="[49m",Lt.color.ansi=Nt(),Lt.color.ansi256=Wt(),Lt.color.ansi16m=Gt(),Lt.bgColor.ansi=Nt(10),Lt.bgColor.ansi256=Wt(10),Lt.bgColor.ansi16m=Gt(10),Object.defineProperties(Lt,{rgbToAnsi256:{value:(t,e,u)=>t===e&&e===u?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value(t){const e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!e)return[0,0,0];let[u]=e;3===u.length&&(u=[...u].map((t=>t+t)).join(""));const i=Number.parseInt(u,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:t=>Lt.rgbToAnsi256(...Lt.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return t-8+90;let e,u,i;if(t>=232)e=(10*(t-232)+8)/255,u=e,i=e;else{const n=(t-=16)%36;e=Math.floor(t/36)/5,u=Math.floor(n/6)/5,i=n%6/5}const n=2*Math.max(e,u,i);if(0===n)return 30;let r=30+(Math.round(i)<<2|Math.round(u)<<1|Math.round(e));return 2===n&&(r+=60),r},enumerable:!1},rgbToAnsi:{value:(t,e,u)=>Lt.ansi256ToAnsi(Lt.rgbToAnsi256(t,e,u)),enumerable:!1},hexToAnsi:{value:t=>Lt.ansi256ToAnsi(Lt.hexToAnsi256(t)),enumerable:!1}}),Lt}();function Ut(t,e=(globalThis.Deno?globalThis.Deno.args:Y.argv)){const u=t.startsWith("-")?"":1===t.length?"-":"--",i=e.indexOf(u+t),n=e.indexOf("--");return-1!==i&&(-1===n||i<n)}const{env:Yt}=Y;let Kt;function Jt(t,{streamIsTTY:e,sniffFlags:u=!0}={}){const i=function(){if("FORCE_COLOR"in Yt)return"true"===Yt.FORCE_COLOR?1:"false"===Yt.FORCE_COLOR?0:0===Yt.FORCE_COLOR.length?1:Math.min(Number.parseInt(Yt.FORCE_COLOR,10),3)}();void 0!==i&&(Kt=i);const n=u?Kt:i;if(0===n)return 0;if(u){if(Ut("color=16m")||Ut("color=full")||Ut("color=truecolor"))return 3;if(Ut("color=256"))return 2}if("TF_BUILD"in Yt&&"AGENT_NAME"in Yt)return 1;if(t&&!e&&void 0===n)return 0;const r=n||0;if("dumb"===Yt.TERM)return r;if("win32"===Y.platform){const t=K.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Yt)return"GITHUB_ACTIONS"in Yt||"GITEA_ACTIONS"in Yt?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((t=>t in Yt))||"codeship"===Yt.CI_NAME?1:r;if("TEAMCITY_VERSION"in Yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Yt.TEAMCITY_VERSION)?1:0;if("truecolor"===Yt.COLORTERM)return 3;if("xterm-kitty"===Yt.TERM)return 3;if("TERM_PROGRAM"in Yt){const t=Number.parseInt((Yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Yt.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Yt.TERM)||"COLORTERM"in Yt?1:r}function Zt(t,e={}){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(Jt(t,{streamIsTTY:t&&t.isTTY,...e}))}Ut("no-color")||Ut("no-colors")||Ut("color=false")||Ut("color=never")?Kt=0:(Ut("color")||Ut("colors")||Ut("color=true")||Ut("color=always"))&&(Kt=1);const zt={stdout:Zt({isTTY:Z.isatty(1)}),stderr:Zt({isTTY:Z.isatty(2)})};function Qt(t,e,u){let i=t.indexOf(e);if(-1===i)return t;const n=e.length;let r=0,s="";do{s+=t.slice(r,i)+e+u,r=i+n,i=t.indexOf(e,r)}while(-1!==i);return s+=t.slice(r),s}const{stdout:Xt,stderr:te}=zt,ee=Symbol("GENERATOR"),ue=Symbol("STYLER"),ie=Symbol("IS_EMPTY"),ne=["ansi","ansi","ansi256","ansi16m"],re=Object.create(null),se=t=>{const e=(...t)=>t.join(" ");return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const u=Xt?Xt.level:0;t.level=void 0===e.level?u:e.level})(e,t),Object.setPrototypeOf(e,oe.prototype),e};function oe(t){return se(t)}Object.setPrototypeOf(oe.prototype,Function.prototype);for(const[lu,hu]of Object.entries(qt))re[lu]={get(){const t=ce(this,he(hu.open,hu.close,this[ue]),this[ie]);return Object.defineProperty(this,lu,{value:t}),t}};re.visible={get(){const t=ce(this,this[ue],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const De=(t,e,u,...i)=>"rgb"===t?"ansi16m"===e?qt[u].ansi16m(...i):"ansi256"===e?qt[u].ansi256(qt.rgbToAnsi256(...i)):qt[u].ansi(qt.rgbToAnsi(...i)):"hex"===t?De("rgb",e,u,...qt.hexToRgb(...i)):qt[u][t](...i),ae=["rgb","hex","ansi256"];for(const lu of ae){re[lu]={get(){const{level:t}=this;return function(...e){const u=he(De(lu,ne[t],"color",...e),qt.color.close,this[ue]);return ce(this,u,this[ie])}}};re["bg"+lu[0].toUpperCase()+lu.slice(1)]={get(){const{level:t}=this;return function(...e){const u=he(De(lu,ne[t],"bgColor",...e),qt.bgColor.close,this[ue]);return ce(this,u,this[ie])}}}}const le=Object.defineProperties((()=>{}),{...re,level:{enumerable:!0,get(){return this[ee].level},set(t){this[ee].level=t}}}),he=(t,e,u)=>{let i,n;return void 0===u?(i=t,n=e):(i=u.openAll+t,n=e+u.closeAll),{open:t,close:e,openAll:i,closeAll:n,parent:u}},ce=(t,e,u)=>{const i=(...t)=>Fe(i,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(i,le),i[ee]=t,i[ue]=e,i[ie]=u,i},Fe=(t,e)=>{if(t.level<=0||!e)return t[ie]?"":e;let u=t[ue];if(void 0===u)return e;const{openAll:i,closeAll:n}=u;if(e.includes(""))for(;void 0!==u;)e=Qt(e,u.close,u.open),u=u.parent;const r=e.indexOf("\n");return-1!==r&&(e=function(t,e,u,i){let n=0,r="";do{const s="\r"===t[i-1];r+=t.slice(n,s?i-1:i)+e+(s?"\r\n":"\n")+u,n=i+1,i=t.indexOf("\n",n)}while(-1!==i);return r+=t.slice(n),r}(e,n,i,r)),i+e+n};Object.defineProperties(oe.prototype,re);const pe=oe();function me(...t){console.log(pe.cyan("[tiny]",...t))}oe({level:te?te.level:0}),me.error=(...t)=>{console.log(pe.red("[tiny]",...t))},me.warn=(...t)=>{console.log(pe.yellow("[tiny]",...t))};const de=`${K.homedir()}/.tyrc`,fe=J.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:Q&&"SCRIPT"===Q.tagName.toUpperCase()&&Q.src||new URL("ty.min.js",document.baseURI).href);L.dirname(fe);const ge=t=>/\.(jpg|jpeg|png|gif|webp)$/i.test(t),_e=()=>{try{G.existsSync(de)||Ce();return JSON.parse(G.readFileSync(de,"utf-8"))}catch(t){console.log("e",t)}},Ce=()=>{G.existsSync(de)||G.writeFileSync(de,JSON.stringify({apiKeys:[],outputDir:"dest",currKeyIndex:0,clean:!0}),"utf-8")},Ee=()=>{const t=_e();if(t){const{currKeyIndex:e,apiKeys:u}=t;G.writeFileSync(de,JSON.stringify({...t,currKeyIndex:+e>=u.length-1?0:+e+1}),"utf-8")}else me.error("未找到apiKey")};function ve(t){const e=t||process.cwd(),{outputDir:u,clean:i}=_e()||{};let n=e+`/${u}`;if(!G.existsSync(n))return G.mkdirSync(n),n;if(i)G.rmSync(n,{recursive:!0,force:!0}),G.mkdirSync(n);else{const t=function(t,e){const u=e;let i=0;return function e(n){const r=t+`/${n}`;return G.existsSync(r)?e(`${u}-${++i}`):r}(u)}(e,u);n=t,G.mkdirSync(t)}return n}const Ae=(t,e,u,i)=>{if("length"===u||"prototype"===u)return;if("arguments"===u||"caller"===u)return;const n=Object.getOwnPropertyDescriptor(t,u),r=Object.getOwnPropertyDescriptor(e,u);!be(n,r)&&i||Object.defineProperty(t,u,r)},be=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Be=(t,e)=>`/* Wrapped ${t}*/\n${e}`,Oe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),we=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function ye(t,e,{ignoreNonConfigurable:u=!1}={}){const{name:i}=t;for(const n of Reflect.ownKeys(e))Ae(t,e,n,u);return((t,e)=>{const u=Object.getPrototypeOf(e);u!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,u)})(t,e),((t,e,u)=>{const i=""===u?"":`with ${u.trim()}() `,n=Be.bind(null,i,e.toString());Object.defineProperty(n,"name",we);const{writable:r,enumerable:s,configurable:o}=Oe;Object.defineProperty(t,"toString",{value:n,writable:r,enumerable:s,configurable:o})})(t,e,i),t}const xe=new WeakMap,Te=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let u,i=0;const n=t.displayName||t.name||"<anonymous>",r=function(...s){if(xe.set(r,++i),1===i)u=t.apply(this,s),t=void 0;else if(!0===e.throw)throw new Error(`Function \`${n}\` can only be called once`);return u};return ye(r,t),xe.set(r,i),r};Te.callCount=t=>{if(!xe.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return xe.get(t)};const Se=[];Se.push("SIGHUP","SIGINT","SIGTERM"),"win32"!==process.platform&&Se.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&Se.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");const $e=t=>!!t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on,ke=Symbol.for("signal-exit emitter"),Me=globalThis,Ie=Object.defineProperty.bind(Object);class He{constructor(){if(H(this,"emitted",{afterExit:!1,exit:!1}),H(this,"listeners",{afterExit:[],exit:[]}),H(this,"count",0),H(this,"id",Math.random()),Me[ke])return Me[ke];Ie(Me,ke,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,e){this.listeners[t].push(e)}removeListener(t,e){const u=this.listeners[t],i=u.indexOf(e);-1!==i&&(0===i&&1===u.length?u.length=0:u.splice(i,1))}emit(t,e,u){if(this.emitted[t])return!1;this.emitted[t]=!0;let i=!1;for(const n of this.listeners[t])i=!0===n(e,u)||i;return"exit"===t&&(i=this.emit("afterExit",e,u)||i),i}}class Pe{}t=new WeakMap,e=new WeakMap,u=new WeakMap,i=new WeakMap,n=new WeakMap,r=new WeakMap,s=new WeakMap,o=new WeakSet,D=function(t){return $e(R(this,u))?(R(this,u).exitCode=t||0,R(this,e).emit("exit",R(this,u).exitCode,null),R(this,n).call(R(this,u),R(this,u).exitCode)):0},a=function(t,...n){const r=R(this,i);if("exit"===t&&$e(R(this,u))){"number"==typeof n[0]&&(R(this,u).exitCode=n[0]);const i=r.call(R(this,u),t,...n);return R(this,e).emit("exit",R(this,u).exitCode,null),i}return r.call(R(this,u),t,...n)};const Re=globalThis.process,{onExit:Ve,load:je,unload:Ne}=(We=$e(Re)?new class extends Pe{constructor(D){super(),V(this,o),V(this,t,"win32"===Re.platform?"SIGINT":"SIGHUP"),V(this,e,new He),V(this,u),V(this,i),V(this,n),V(this,r,{}),V(this,s,!1),j(this,u,D),j(this,r,{});for(const i of Se)R(this,r)[i]=()=>{const n=R(this,u).listeners(i);let{count:r}=R(this,e);const s=D;if("object"==typeof s.__signal_exit_emitter__&&"number"==typeof s.__signal_exit_emitter__.count&&(r+=s.__signal_exit_emitter__.count),n.length===r){this.unload();const u=R(this,e).emit("exit",null,i),n="SIGHUP"===i?R(this,t):i;u||D.kill(D.pid,n)}};j(this,n,D.reallyExit),j(this,i,D.emit)}onExit(t,i){if(!$e(R(this,u)))return()=>{};!1===R(this,s)&&this.load();const n=(null==i?void 0:i.alwaysLast)?"afterExit":"exit";return R(this,e).on(n,t),()=>{R(this,e).removeListener(n,t),0===R(this,e).listeners.exit.length&&0===R(this,e).listeners.afterExit.length&&this.unload()}}load(){if(!R(this,s)){j(this,s,!0),R(this,e).count+=1;for(const e of Se)try{const t=R(this,r)[e];t&&R(this,u).on(e,t)}catch(t){}R(this,u).emit=(t,...e)=>N(this,o,a).call(this,t,...e),R(this,u).reallyExit=t=>N(this,o,D).call(this,t)}}unload(){R(this,s)&&(j(this,s,!1),Se.forEach((t=>{const e=R(this,r)[t];if(!e)throw new Error("Listener not defined for signal: "+t);try{R(this,u).removeListener(t,e)}catch(i){}})),R(this,u).emit=R(this,i),R(this,u).reallyExit=R(this,n),R(this,e).count-=1)}}(Re):new class extends Pe{onExit(){return()=>{}}load(){}unload(){}},{onExit:(t,e)=>We.onExit(t,e),load:()=>We.load(),unload:()=>We.unload()});var We;const Ge=Y.stderr.isTTY?Y.stderr:Y.stdout.isTTY?Y.stdout:void 0,Le=Ge?Te((()=>{Ve((()=>{Ge.write("[?25h")}),{alwaysLast:!0})})):()=>{};let qe=!1;const Ue={show:(t=Y.stderr)=>{t.isTTY&&(qe=!1,t.write("[?25h"))},hide:(t=Y.stderr)=>{t.isTTY&&(Le(),qe=!0,t.write("[?25l"))},toggle:(t,e)=>{void 0!==t&&(qe=t),qe?Ue.show(e):Ue.hide(e)}},Ye={dots:{interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},dots2:{interval:80,frames:["⣾","⣽","⣻","⢿","⡿","⣟","⣯","⣷"]},dots3:{interval:80,frames:["⠋","⠙","⠚","⠞","⠖","⠦","⠴","⠲","⠳","⠓"]},dots4:{interval:80,frames:["⠄","⠆","⠇","⠋","⠙","⠸","⠰","⠠","⠰","⠸","⠙","⠋","⠇","⠆"]},dots5:{interval:80,frames:["⠋","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋"]},dots6:{interval:80,frames:["⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠴","⠲","⠒","⠂","⠂","⠒","⠚","⠙","⠉","⠁"]},dots7:{interval:80,frames:["⠈","⠉","⠋","⠓","⠒","⠐","⠐","⠒","⠖","⠦","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈"]},dots8:{interval:80,frames:["⠁","⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈","⠈"]},dots9:{interval:80,frames:["⢹","⢺","⢼","⣸","⣇","⡧","⡗","⡏"]},dots10:{interval:80,frames:["⢄","⢂","⢁","⡁","⡈","⡐","⡠"]},dots11:{interval:100,frames:["⠁","⠂","⠄","⡀","⢀","⠠","⠐","⠈"]},dots12:{interval:80,frames:["⢀⠀","⡀⠀","⠄⠀","⢂⠀","⡂⠀","⠅⠀","⢃⠀","⡃⠀","⠍⠀","⢋⠀","⡋⠀","⠍⠁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⢈⠩","⡀⢙","⠄⡙","⢂⠩","⡂⢘","⠅⡘","⢃⠨","⡃⢐","⠍⡐","⢋⠠","⡋⢀","⠍⡁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⠈⠩","⠀⢙","⠀⡙","⠀⠩","⠀⢘","⠀⡘","⠀⠨","⠀⢐","⠀⡐","⠀⠠","⠀⢀","⠀⡀"]},dots13:{interval:80,frames:["⣼","⣹","⢻","⠿","⡟","⣏","⣧","⣶"]},dots8Bit:{interval:80,frames:["⠀","⠁","⠂","⠃","⠄","⠅","⠆","⠇","⡀","⡁","⡂","⡃","⡄","⡅","⡆","⡇","⠈","⠉","⠊","⠋","⠌","⠍","⠎","⠏","⡈","⡉","⡊","⡋","⡌","⡍","⡎","⡏","⠐","⠑","⠒","⠓","⠔","⠕","⠖","⠗","⡐","⡑","⡒","⡓","⡔","⡕","⡖","⡗","⠘","⠙","⠚","⠛","⠜","⠝","⠞","⠟","⡘","⡙","⡚","⡛","⡜","⡝","⡞","⡟","⠠","⠡","⠢","⠣","⠤","⠥","⠦","⠧","⡠","⡡","⡢","⡣","⡤","⡥","⡦","⡧","⠨","⠩","⠪","⠫","⠬","⠭","⠮","⠯","⡨","⡩","⡪","⡫","⡬","⡭","⡮","⡯","⠰","⠱","⠲","⠳","⠴","⠵","⠶","⠷","⡰","⡱","⡲","⡳","⡴","⡵","⡶","⡷","⠸","⠹","⠺","⠻","⠼","⠽","⠾","⠿","⡸","⡹","⡺","⡻","⡼","⡽","⡾","⡿","⢀","⢁","⢂","⢃","⢄","⢅","⢆","⢇","⣀","⣁","⣂","⣃","⣄","⣅","⣆","⣇","⢈","⢉","⢊","⢋","⢌","⢍","⢎","⢏","⣈","⣉","⣊","⣋","⣌","⣍","⣎","⣏","⢐","⢑","⢒","⢓","⢔","⢕","⢖","⢗","⣐","⣑","⣒","⣓","⣔","⣕","⣖","⣗","⢘","⢙","⢚","⢛","⢜","⢝","⢞","⢟","⣘","⣙","⣚","⣛","⣜","⣝","⣞","⣟","⢠","⢡","⢢","⢣","⢤","⢥","⢦","⢧","⣠","⣡","⣢","⣣","⣤","⣥","⣦","⣧","⢨","⢩","⢪","⢫","⢬","⢭","⢮","⢯","⣨","⣩","⣪","⣫","⣬","⣭","⣮","⣯","⢰","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⣰","⣱","⣲","⣳","⣴","⣵","⣶","⣷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⢿","⣸","⣹","⣺","⣻","⣼","⣽","⣾","⣿"]},sand:{interval:80,frames:["⠁","⠂","⠄","⡀","⡈","⡐","⡠","⣀","⣁","⣂","⣄","⣌","⣔","⣤","⣥","⣦","⣮","⣶","⣷","⣿","⡿","⠿","⢟","⠟","⡛","⠛","⠫","⢋","⠋","⠍","⡉","⠉","⠑","⠡","⢁"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["⠂","-","–","—","–","-"]},pipe:{interval:100,frames:["┤","┘","┴","└","├","┌","┬","┐"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["✶","✸","✹","✺","✹","✷"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","´","-","_","_","_"]},hamburger:{interval:100,frames:["☱","☲","☴"]},growVertical:{interval:120,frames:["▁","▃","▄","▅","▆","▇","▆","▅","▄","▃"]},growHorizontal:{interval:120,frames:["▏","▎","▍","▌","▋","▊","▉","▊","▋","▌","▍","▎"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","°","O","o","."]},noise:{interval:100,frames:["▓","▒","░"]},bounce:{interval:120,frames:["⠁","⠂","⠄","⠂"]},boxBounce:{interval:120,frames:["▖","▘","▝","▗"]},boxBounce2:{interval:100,frames:["▌","▀","▐","▄"]},triangle:{interval:50,frames:["◢","◣","◤","◥"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["◜","◠","◝","◞","◡","◟"]},circle:{interval:120,frames:["◡","⊙","◠"]},squareCorners:{interval:180,frames:["◰","◳","◲","◱"]},circleQuarters:{interval:120,frames:["◴","◷","◶","◵"]},circleHalves:{interval:50,frames:["◐","◓","◑","◒"]},squish:{interval:100,frames:["╫","╪"]},toggle:{interval:250,frames:["⊶","⊷"]},toggle2:{interval:80,frames:["▫","▪"]},toggle3:{interval:120,frames:["□","■"]},toggle4:{interval:100,frames:["■","□","▪","▫"]},toggle5:{interval:100,frames:["▮","▯"]},toggle6:{interval:300,frames:["ဝ","၀"]},toggle7:{interval:80,frames:["⦾","⦿"]},toggle8:{interval:100,frames:["◍","◌"]},toggle9:{interval:100,frames:["◉","◎"]},toggle10:{interval:100,frames:["㊂","㊀","㊁"]},toggle11:{interval:50,frames:["⧇","⧆"]},toggle12:{interval:120,frames:["☗","☖"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["←","↖","↑","↗","→","↘","↓","↙"]},arrow2:{interval:80,frames:["⬆️ ","↗️ ","➡️ ","↘️ ","⬇️ ","↙️ ","⬅️ ","↖️ "]},arrow3:{interval:120,frames:["▹▹▹▹▹","▸▹▹▹▹","▹▸▹▹▹","▹▹▸▹▹","▹▹▹▸▹","▹▹▹▹▸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( ●    )","(  ●   )","(   ●  )","(    ● )","(     ●)","(    ● )","(   ●  )","(  ●   )","( ●    )","(●     )"]},smiley:{interval:200,frames:["😄 ","😝 "]},monkey:{interval:300,frames:["🙈 ","🙈 ","🙉 ","🙊 "]},hearts:{interval:100,frames:["💛 ","💙 ","💜 ","💚 ","❤️ "]},clock:{interval:100,frames:["🕛 ","🕐 ","🕑 ","🕒 ","🕓 ","🕔 ","🕕 ","🕖 ","🕗 ","🕘 ","🕙 ","🕚 "]},earth:{interval:180,frames:["🌍 ","🌎 ","🌏 "]},material:{interval:17,frames:["█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███████▁▁▁▁▁▁▁▁▁▁▁▁▁","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","██████████▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","█████████████▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁██████████████▁▁▁▁","▁▁▁██████████████▁▁▁","▁▁▁▁█████████████▁▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁▁▁████████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁██████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","██████▁▁▁▁▁▁▁▁▁▁▁▁▁█","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁▁█████████████▁▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁▁███████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁▁█████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁"]},moon:{interval:80,frames:["🌑 ","🌒 ","🌓 ","🌔 ","🌕 ","🌖 ","🌗 ","🌘 "]},runner:{interval:140,frames:["🚶 ","🏃 "]},pong:{interval:80,frames:["▐⠂       ▌","▐⠈       ▌","▐ ⠂      ▌","▐ ⠠      ▌","▐  ⡀     ▌","▐  ⠠     ▌","▐   ⠂    ▌","▐   ⠈    ▌","▐    ⠂   ▌","▐    ⠠   ▌","▐     ⡀  ▌","▐     ⠠  ▌","▐      ⠂ ▌","▐      ⠈ ▌","▐       ⠂▌","▐       ⠠▌","▐       ⡀▌","▐      ⠠ ▌","▐      ⠂ ▌","▐     ⠈  ▌","▐     ⠂  ▌","▐    ⠠   ▌","▐    ⡀   ▌","▐   ⠠    ▌","▐   ⠂    ▌","▐  ⠈     ▌","▐  ⠂     ▌","▐ ⠠      ▌","▐ ⡀      ▌","▐⠠       ▌"]},shark:{interval:120,frames:["▐|\\____________▌","▐_|\\___________▌","▐__|\\__________▌","▐___|\\_________▌","▐____|\\________▌","▐_____|\\_______▌","▐______|\\______▌","▐_______|\\_____▌","▐________|\\____▌","▐_________|\\___▌","▐__________|\\__▌","▐___________|\\_▌","▐____________|\\▌","▐____________/|▌","▐___________/|_▌","▐__________/|__▌","▐_________/|___▌","▐________/|____▌","▐_______/|_____▌","▐______/|______▌","▐_____/|_______▌","▐____/|________▌","▐___/|_________▌","▐__/|__________▌","▐_/|___________▌","▐/|____________▌"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["☀️ ","☀️ ","☀️ ","🌤 ","⛅️ ","🌥 ","☁️ ","🌧 ","🌨 ","🌧 ","🌨 ","🌧 ","🌨 ","⛈ ","🌨 ","🌧 ","🌨 ","☁️ ","🌥 ","⛅️ ","🌤 ","☀️ ","☀️ "]},christmas:{interval:400,frames:["🌲","🎄"]},grenade:{interval:80,frames:["،  ","′  "," ´ "," ‾ ","  ⸌","  ⸊","  |","  ⁎","  ⁕"," ෴ ","  ⁓","   ","   ","   "]},point:{interval:125,frames:["∙∙∙","●∙∙","∙●∙","∙∙●","∙∙∙"]},layer:{interval:150,frames:["-","=","≡"]},betaWave:{interval:80,frames:["ρββββββ","βρβββββ","ββρββββ","βββρβββ","ββββρββ","βββββρβ","ββββββρ"]},fingerDance:{interval:160,frames:["🤘 ","🤟 ","🖖 ","✋ ","🤚 ","👆 "]},fistBump:{interval:80,frames:["🤜　　　　🤛 ","🤜　　　　🤛 ","🤜　　　　🤛 ","　🤜　　🤛　 ","　　🤜🤛　　 ","　🤜✨🤛　　 ","🤜　✨　🤛　 "]},soccerHeader:{interval:80,frames:[" 🧑⚽️       🧑 ","🧑  ⚽️      🧑 ","🧑   ⚽️     🧑 ","🧑    ⚽️    🧑 ","🧑     ⚽️   🧑 ","🧑      ⚽️  🧑 ","🧑       ⚽️🧑  ","🧑      ⚽️  🧑 ","🧑     ⚽️   🧑 ","🧑    ⚽️    🧑 ","🧑   ⚽️     🧑 ","🧑  ⚽️      🧑 "]},mindblown:{interval:160,frames:["😐 ","😐 ","😮 ","😮 ","😦 ","😦 ","😧 ","😧 ","🤯 ","💥 ","✨ ","　 ","　 ","　 "]},speaker:{interval:160,frames:["🔈 ","🔉 ","🔊 ","🔉 "]},orangePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 "]},bluePulse:{interval:100,frames:["🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},orangeBluePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 ","🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},timeTravel:{interval:100,frames:["🕛 ","🕚 ","🕙 ","🕘 ","🕗 ","🕖 ","🕕 ","🕔 ","🕓 ","🕒 ","🕑 ","🕐 "]},aesthetic:{interval:80,frames:["▰▱▱▱▱▱▱","▰▰▱▱▱▱▱","▰▰▰▱▱▱▱","▰▰▰▰▱▱▱","▰▰▰▰▰▱▱","▰▰▰▰▰▰▱","▰▰▰▰▰▰▰","▰▱▱▱▱▱▱"]},dwarfFortress:{interval:80,frames:[" ██████£££  ","☺██████£££  ","☺██████£££  ","☺▓█████£££  ","☺▓█████£££  ","☺▒█████£££  ","☺▒█████£££  ","☺░█████£££  ","☺░█████£££  ","☺ █████£££  "," ☺█████£££  "," ☺█████£££  "," ☺▓████£££  "," ☺▓████£££  "," ☺▒████£££  "," ☺▒████£££  "," ☺░████£££  "," ☺░████£££  "," ☺ ████£££  ","  ☺████£££  ","  ☺████£££  ","  ☺▓███£££  ","  ☺▓███£££  ","  ☺▒███£££  ","  ☺▒███£££  ","  ☺░███£££  ","  ☺░███£££  ","  ☺ ███£££  ","   ☺███£££  ","   ☺███£££  ","   ☺▓██£££  ","   ☺▓██£££  ","   ☺▒██£££  ","   ☺▒██£££  ","   ☺░██£££  ","   ☺░██£££  ","   ☺ ██£££  ","    ☺██£££  ","    ☺██£££  ","    ☺▓█£££  ","    ☺▓█£££  ","    ☺▒█£££  ","    ☺▒█£££  ","    ☺░█£££  ","    ☺░█£££  ","    ☺ █£££  ","     ☺█£££  ","     ☺█£££  ","     ☺▓£££  ","     ☺▓£££  ","     ☺▒£££  ","     ☺▒£££  ","     ☺░£££  ","     ☺░£££  ","     ☺ £££  ","      ☺£££  ","      ☺£££  ","      ☺▓££  ","      ☺▓££  ","      ☺▒££  ","      ☺▒££  ","      ☺░££  ","      ☺░££  ","      ☺ ££  ","       ☺££  ","       ☺££  ","       ☺▓£  ","       ☺▓£  ","       ☺▒£  ","       ☺▒£  ","       ☺░£  ","       ☺░£  ","       ☺ £  ","        ☺£  ","        ☺£  ","        ☺▓  ","        ☺▓  ","        ☺▒  ","        ☺▒  ","        ☺░  ","        ☺░  ","        ☺   ","        ☺  &","        ☺ ☼&","       ☺ ☼ &","       ☺☼  &","      ☺☼  & ","      ‼   & ","     ☺   &  ","    ‼    &  ","   ☺    &   ","  ‼     &   "," ☺     &    ","‼      &    ","      &     ","      &     ","     &   ░  ","     &   ▒  ","    &    ▓  ","    &    £  ","   &    ░£  ","   &    ▒£  ","  &     ▓£  ","  &     ££  "," &     ░££  "," &     ▒££  ","&      ▓££  ","&      £££  ","      ░£££  ","      ▒£££  ","      ▓£££  ","      █£££  ","     ░█£££  ","     ▒█£££  ","     ▓█£££  ","     ██£££  ","    ░██£££  ","    ▒██£££  ","    ▓██£££  ","    ███£££  ","   ░███£££  ","   ▒███£££  ","   ▓███£££  ","   ████£££  ","  ░████£££  ","  ▒████£££  ","  ▓████£££  ","  █████£££  "," ░█████£££  "," ▒█████£££  "," ▓█████£££  "," ██████£££  "," ██████£££  "]}},Ke=Object.assign({},Ye),Je=Object.keys(Ke);Object.defineProperty(Ke,"random",{get(){const t=Math.floor(Math.random()*Je.length),e=Je[t];return Ke[e]}});const Ze=X(Ke);const ze={info:pe.blue("ℹ"),success:pe.green("✔"),warning:pe.yellow("⚠"),error:pe.red("✖")},Qe={info:pe.blue("i"),success:pe.green("√"),warning:pe.yellow("‼"),error:pe.red("×")},Xe=("win32"!==Y.platform?"linux"!==Y.env.TERM:Boolean(Y.env.CI)||Boolean(Y.env.WT_SESSION)||Boolean(Y.env.TERMINUS_SUBLIME)||"{cmd::Cmder}"===Y.env.ConEmuTask||"Terminus-Sublime"===Y.env.TERM_PROGRAM||"vscode"===Y.env.TERM_PROGRAM||"xterm-256color"===Y.env.TERM||"alacritty"===Y.env.TERM||"JetBrains-JediTerm"===Y.env.TERMINAL_EMULATOR)?ze:Qe;const tu=function({onlyFirst:t=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}();function eu(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(tu,"")}function uu(t,{ambiguousAsWide:e=!1}={}){return function(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}(t),12288===(u=t)||u>=65281&&u<=65376||u>=65504&&u<=65510||function(t){return t>=4352&&t<=4447||8986===t||8987===t||9001===t||9002===t||t>=9193&&t<=9196||9200===t||9203===t||9725===t||9726===t||9748===t||9749===t||t>=9776&&t<=9783||t>=9800&&t<=9811||9855===t||t>=9866&&t<=9871||9875===t||9889===t||9898===t||9899===t||9917===t||9918===t||9924===t||9925===t||9934===t||9940===t||9962===t||9970===t||9971===t||9973===t||9978===t||9981===t||9989===t||9994===t||9995===t||10024===t||10060===t||10062===t||t>=10067&&t<=10069||10071===t||t>=10133&&t<=10135||10160===t||10175===t||11035===t||11036===t||11088===t||11093===t||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12773||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||94192===t||94193===t||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101631&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||110589===t||110590===t||t>=110592&&t<=110882||110898===t||t>=110928&&t<=110930||110933===t||t>=110948&&t<=110951||t>=110960&&t<=111355||t>=119552&&t<=119638||t>=119648&&t<=119670||126980===t||127183===t||127374===t||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||127568===t||127569===t||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||127988===t||t>=127992&&t<=128062||128064===t||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||128378===t||128405===t||128406===t||128420===t||t>=128507&&t<=128591||t>=128640&&t<=128709||128716===t||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||128747===t||128748===t||t>=128756&&t<=128764||t>=128992&&t<=129003||129008===t||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129673||t>=129679&&t<=129734||t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}(t)||e&&function(t){return 161===t||164===t||167===t||168===t||170===t||173===t||174===t||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||198===t||208===t||215===t||216===t||t>=222&&t<=225||230===t||t>=232&&t<=234||236===t||237===t||240===t||242===t||243===t||t>=247&&t<=250||252===t||254===t||257===t||273===t||275===t||283===t||294===t||295===t||299===t||t>=305&&t<=307||312===t||t>=319&&t<=322||324===t||t>=328&&t<=331||333===t||338===t||339===t||358===t||359===t||363===t||462===t||464===t||466===t||468===t||470===t||472===t||474===t||476===t||593===t||609===t||708===t||711===t||t>=713&&t<=715||717===t||720===t||t>=728&&t<=731||733===t||735===t||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||1025===t||t>=1040&&t<=1103||1105===t||8208===t||t>=8211&&t<=8214||8216===t||8217===t||8220===t||8221===t||t>=8224&&t<=8226||t>=8228&&t<=8231||8240===t||8242===t||8243===t||8245===t||8251===t||8254===t||8308===t||8319===t||t>=8321&&t<=8324||8364===t||8451===t||8453===t||8457===t||8467===t||8470===t||8481===t||8482===t||8486===t||8491===t||8531===t||8532===t||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||8585===t||t>=8592&&t<=8601||8632===t||8633===t||8658===t||8660===t||8679===t||8704===t||8706===t||8707===t||8711===t||8712===t||8715===t||8719===t||8721===t||8725===t||8730===t||t>=8733&&t<=8736||8739===t||8741===t||t>=8743&&t<=8748||8750===t||t>=8756&&t<=8759||8764===t||8765===t||8776===t||8780===t||8786===t||8800===t||8801===t||t>=8804&&t<=8807||8810===t||8811===t||8814===t||8815===t||8834===t||8835===t||8838===t||8839===t||8853===t||8857===t||8869===t||8895===t||8978===t||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||9632===t||9633===t||t>=9635&&t<=9641||9650===t||9651===t||9654===t||9655===t||9660===t||9661===t||9664===t||9665===t||t>=9670&&t<=9672||9675===t||t>=9678&&t<=9681||t>=9698&&t<=9701||9711===t||9733===t||9734===t||9737===t||9742===t||9743===t||9756===t||9758===t||9792===t||9794===t||9824===t||9825===t||t>=9827&&t<=9829||t>=9831&&t<=9834||9836===t||9837===t||9839===t||9886===t||9887===t||9919===t||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||9955===t||9960===t||9961===t||t>=9963&&t<=9969||9972===t||t>=9974&&t<=9977||9979===t||9980===t||9982===t||9983===t||10045===t||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||65533===t||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||127375===t||127376===t||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}(t)?2:1;var u}const iu=new Intl.Segmenter,nu=new RegExp("^\\p{Default_Ignorable_Code_Point}$","u");function ru(t,e={}){if("string"!=typeof t||0===t.length)return 0;const{ambiguousIsNarrow:u=!0,countAnsiEscapeCodes:i=!1}=e;if(i||(t=eu(t)),0===t.length)return 0;let n=0;const r={ambiguousAsWide:!u};for(const{segment:s}of iu.segment(t)){const t=s.codePointAt(0);t<=31||t>=127&&t<=159||(t>=8203&&t<=8207||65279===t||t>=768&&t<=879||t>=6832&&t<=6911||t>=7616&&t<=7679||t>=8400&&t<=8447||t>=65056&&t<=65071||t>=55296&&t<=57343||t>=65024&&t<=65039||nu.test(s)||(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.test(s)?n+=2:n+=uu(t,r)))}return n}l=new WeakMap,h=new WeakSet,c=function(){"win32"!==Y.platform&&Y.stdin.isTTY&&(Y.stdin.setRawMode(!0),Y.stdin.on("data",N(this,h,p)),Y.stdin.resume())},F=function(){Y.stdin.isTTY&&(Y.stdin.off("data",N(this,h,p)),Y.stdin.pause(),Y.stdin.setRawMode(!1))},p=function(t){3===t[0]&&Y.emit("SIGINT")};const su=new class{constructor(){V(this,h),V(this,l,0)}start(){W(this,l)._++,1===R(this,l)&&N(this,h,c).call(this)}stop(){if(R(this,l)<=0)throw new Error("`stop` called more times than `start`");W(this,l)._--,0===R(this,l)&&N(this,h,F).call(this)}};class ou{constructor(t){V(this,T),V(this,m,0),V(this,d,!1),V(this,f,0),V(this,g,0),V(this,_),V(this,C),V(this,E),V(this,v),V(this,A),V(this,b),V(this,B),V(this,O),V(this,w),V(this,y),V(this,x),H(this,"color"),"string"==typeof t&&(t={text:t}),j(this,_,{color:"cyan",stream:Y.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=R(this,_).color,this.spinner=R(this,_).spinner,j(this,A,R(this,_).interval),j(this,E,R(this,_).stream),j(this,b,"boolean"==typeof R(this,_).isEnabled?R(this,_).isEnabled:function({stream:t=process.stdout}={}){return Boolean(t&&t.isTTY&&"dumb"!==process.env.TERM&&!("CI"in process.env))}({stream:R(this,E)})),j(this,B,"boolean"==typeof R(this,_).isSilent&&R(this,_).isSilent),this.text=R(this,_).text,this.prefixText=R(this,_).prefixText,this.suffixText=R(this,_).suffixText,this.indent=R(this,_).indent,"test"===Y.env.NODE_ENV&&(this._stream=R(this,E),this._isEnabled=R(this,b),Object.defineProperty(this,"_linesToClear",{get(){return R(this,m)},set(t){j(this,m,t)}}),Object.defineProperty(this,"_frameIndex",{get(){return R(this,g)}}),Object.defineProperty(this,"_lineCount",{get(){return R(this,f)}}))}get indent(){return R(this,O)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");j(this,O,t),N(this,T,k).call(this)}get interval(){return R(this,A)??R(this,C).interval??100}get spinner(){return R(this,C)}set spinner(t){if(j(this,g,0),j(this,A,void 0),"object"==typeof t){if(void 0===t.frames)throw new Error("The given spinner must have a `frames` property");j(this,C,t)}else if(function(){const{env:t}=Y,{TERM:e,TERM_PROGRAM:u}=t;return"win32"!==Y.platform?"linux"!==e:Boolean(t.WT_SESSION)||Boolean(t.TERMINUS_SUBLIME)||"{cmd::Cmder}"===t.ConEmuTask||"Terminus-Sublime"===u||"vscode"===u||"xterm-256color"===e||"alacritty"===e||"rxvt-unicode"===e||"rxvt-unicode-256color"===e||"JetBrains-JediTerm"===t.TERMINAL_EMULATOR}())if(void 0===t)j(this,C,Ze.dots);else{if("default"===t||!Ze[t])throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`);j(this,C,Ze[t])}else j(this,C,Ze.line)}get text(){return R(this,w)}set text(t=""){j(this,w,t),N(this,T,k).call(this)}get prefixText(){return R(this,y)}set prefixText(t=""){j(this,y,t),N(this,T,k).call(this)}get suffixText(){return R(this,x)}set suffixText(t=""){j(this,x,t),N(this,T,k).call(this)}get isSpinning(){return void 0!==R(this,v)}get isEnabled(){return R(this,b)&&!R(this,B)}set isEnabled(t){if("boolean"!=typeof t)throw new TypeError("The `isEnabled` option must be a boolean");j(this,b,t)}get isSilent(){return R(this,B)}set isSilent(t){if("boolean"!=typeof t)throw new TypeError("The `isSilent` option must be a boolean");j(this,B,t)}frame(){const{frames:t}=R(this,C);let e=t[R(this,g)];this.color&&(e=pe[this.color](e)),j(this,g,++W(this,g)._%t.length);return("string"==typeof R(this,y)&&""!==R(this,y)?R(this,y)+" ":"")+e+("string"==typeof this.text?" "+this.text:"")+("string"==typeof R(this,x)&&""!==R(this,x)?" "+R(this,x):"")}clear(){if(!R(this,b)||!R(this,E).isTTY)return this;R(this,E).cursorTo(0);for(let t=0;t<R(this,m);t++)t>0&&R(this,E).moveCursor(0,-1),R(this,E).clearLine(1);return(R(this,O)||this.lastIndent!==R(this,O))&&R(this,E).cursorTo(R(this,O)),this.lastIndent=R(this,O),j(this,m,0),this}render(){return R(this,B)||(this.clear(),R(this,E).write(this.frame()),j(this,m,R(this,f))),this}start(t){return t&&(this.text=t),R(this,B)?this:R(this,b)?(this.isSpinning||(R(this,_).hideCursor&&Ue.hide(R(this,E)),R(this,_).discardStdin&&Y.stdin.isTTY&&(j(this,d,!0),su.start()),this.render(),j(this,v,setInterval(this.render.bind(this),this.interval))),this):(this.text&&R(this,E).write(`- ${this.text}\n`),this)}stop(){return R(this,b)?(clearInterval(R(this,v)),j(this,v,void 0),j(this,g,0),this.clear(),R(this,_).hideCursor&&Ue.show(R(this,E)),R(this,_).discardStdin&&Y.stdin.isTTY&&R(this,d)&&(su.stop(),j(this,d,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Xe.success,text:t})}fail(t){return this.stopAndPersist({symbol:Xe.error,text:t})}warn(t){return this.stopAndPersist({symbol:Xe.warning,text:t})}info(t){return this.stopAndPersist({symbol:Xe.info,text:t})}stopAndPersist(t={}){if(R(this,B))return this;const e=t.prefixText??R(this,y),u=N(this,T,S).call(this,e," "),i=t.symbol??" ",n=t.text??this.text,r="string"==typeof n?" "+n:"",s=t.suffixText??R(this,x),o=u+i+r+N(this,T,$).call(this,s," ")+"\n";return this.stop(),R(this,E).write(o),this}}m=new WeakMap,d=new WeakMap,f=new WeakMap,g=new WeakMap,_=new WeakMap,C=new WeakMap,E=new WeakMap,v=new WeakMap,A=new WeakMap,b=new WeakMap,B=new WeakMap,O=new WeakMap,w=new WeakMap,y=new WeakMap,x=new WeakMap,T=new WeakSet,S=function(t=R(this,y),e=" "){return"string"==typeof t&&""!==t?t+e:"function"==typeof t?t()+e:""},$=function(t=R(this,x),e=" "){return"string"==typeof t&&""!==t?e+t:"function"==typeof t?e+t():""},k=function(){const t=R(this,E).columns??80,e=N(this,T,S).call(this,R(this,y),"-"),u=N(this,T,$).call(this,R(this,x),"-"),i=" ".repeat(R(this,O))+e+"--"+R(this,w)+"--"+u;j(this,f,0);for(const n of eu(i).split("\n"))j(this,f,R(this,f)+Math.max(1,Math.ceil(ru(n,{countAnsiEscapeCodes:!0})/t)))};const Du=({input:t,output:e,completed:u,error:i})=>{const n=_e();if(!n||0===n.apiKeys.length)return me.warn("请先执行命令 ty addKey ** 添加apiKey,");const{apiKeys:r,currKeyIndex:s}=n;if(+s>r.length)return Ee(),Du({input:t,output:e,completed:u,error:i});r[+s]&&(z.key=r[+s]);const o=L.basename(t),D=(a=`开始压缩${o}`,new ou(a)).start();var a;z.fromFile(t).toFile(`${e}/${o}`,(function(n){n?n instanceof z.AccountError?(Ee(),D.stop(),Du({input:t,output:e,completed:u,error:i})):(i&&i(n),D.fail(`压缩失败${o}`),me.error(n),u&&u({type:"error"})):(D.succeed(`压缩完成${o}`),u&&u({type:"success"}))}))},au=t=>{const e=L.resolve(process.cwd(),t||"./");try{if(G.statSync(e).isDirectory()){const t=G.readdirSync(e);if(!t.length)return Y.exit(1);const u=[];if(t.forEach((t=>{ge(t)&&u.push(t)})),!u.length)return Y.exit(1);let i=0;const n=ve(e),r=t=>{Du({input:t,output:n,completed(){i<u.length-1?(i++,r(u[i])):Y.exit(1)}})};r(u[i])}else me.error("未找到该目录"),Y.exit(1)}catch(u){me.error("未找到该目录"),Y.exit(1)}};Tt.command("addKey").description("添加apiKey").action(((t,e)=>{const u=e.args[0];u&&u.split(",").forEach((t=>{(t=>{const e=_e();e?(e.apiKeys.push(t),G.writeFileSync(de,JSON.stringify(e),"utf-8")):G.writeFileSync(de,JSON.stringify({apiKeys:[t],outputDir:"dest",currKeyIndex:0,clean:!0}),"utf-8")})(t)}))})),Tt.command("removeKey").description("删除apiKey").action(((t,e)=>{const u=e.args[0];u&&u.split(",").forEach((t=>{(t=>{const e=_e();if(e){const u=e.apiKeys.filter((e=>e!==t));e.apiKeys=u,e.currKeyIndex=0,G.writeFileSync(de,JSON.stringify(e),"utf-8")}else Ce()})(t)}))})),Tt.command("config").description("查看配置").action(((t,e)=>{console.log(_e())})),Tt.description("开始压缩").option("-v, --version","版本").action(((t,e)=>{if(e.opts().version)return me(require("../package.json").version),!1;const u=e.args[0];if(u){const t=L.resolve(process.cwd(),u);if(G.existsSync(t)){const e=G.statSync(t);if(e.isDirectory())return au(t),!1;e.isFile()&&(ge(t)?(t=>{const e=L.resolve(process.cwd(),t);try{const t=G.statSync(e),u=ve(L.dirname(e));t.isFile()&&ge(e)?Du({input:e,output:u}):(me.error("未找到该图片文件"),Y.exit(1))}catch(u){me.error("未找到该图片文件"),Y.exit(1)}})(t):me.warn("图片格式不正确"))}else me.warn("文件或目录不存在")}else au()})),Tt.parse(process.argv);
